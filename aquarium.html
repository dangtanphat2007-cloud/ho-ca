
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªì c√° vui nh·ªôn</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="aquarium" id="aquarium">

    <!-- C√°c n√∫t ch·ª©c nƒÉng -->
    <div class="controls">
        <button id="btnMusic">üéµ B·∫≠t/T·∫Øt nh·∫°c</button>
        <button id="btnBG">üñº ƒê·ªïi c·∫£nh n·ªÅn</button>
    </div>

    <!-- 3 th·ª£ l·∫∑n -->
    <img src="diver1.png" class="diver diver1">
    <img src="diver2.png" class="diver diver2">
    <img src="diver3.png" class="diver diver3">

    <!-- C√° m·∫≠p -->
    <img src="shark.png" class="shark">

    <!-- R√πa -->
    <img src="turtle.png" class="turtle">

    <!-- C√° nh·ªè -->
    <img src="goldFishSchool.png" class="fish fish1">
    <img src="faintSchool.png" class="fish fish2">

    <!-- Bong b√≥ng -->
    <div id="bubbles"></div>

    <!-- Nh·∫°c n·ªÅn -->
    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <!-- ---------- JavaScript tr·ª±c ti·∫øp ---------- -->
    <script>
    // --- Th·ª£ l·∫∑n tr√°nh c√° m·∫≠p ---
    const shark = document.querySelector('.shark');
    const divers = document.querySelectorAll('.diver');

    function getSharkRect() {
        return shark.getBoundingClientRect();
    }

    function moveDiverRandom(diver) {
        const sharkRect = getSharkRect();
        let x, y, diverRect;

        do {
            x = Math.random() * (window.innerWidth - diver.offsetWidth);
            y = Math.random() * (window.innerHeight - diver.offsetHeight);
            diver.style.left = `${x}px`;
            diver.style.top = `${y}px`;
            diverRect = diver.getBoundingClientRect();
        } while (
            diverRect.left < sharkRect.right &&
            diverRect.right > sharkRect.left &&
            diverRect.top < sharkRect.bottom &&
            diverRect.bottom > sharkRect.top
        );
    }

    setInterval(() => {
        divers.forEach(diver => moveDiverRandom(diver));
    }, 2500);

    // --- Nh·∫°c n·ªÅn ---
    const btnMusic = document.getElementById('btnMusic');
    const bgMusic = document.getElementById('bgMusic');

    btnMusic.addEventListener('click', () => {
        if(bgMusic.paused) bgMusic.play();
        else bgMusic.pause();
    });

    // --- ƒê·ªïi n·ªÅn ---
    const btnBG = document.getElementById('btnBG');
    const aquarium = document.getElementById('aquarium');

    const backgrounds = ['images/bg1.jpg','images/bg2.jpg','images/bg3.jpg'];
    let current = 0;

    btnBG.addEventListener('click', () => {
        current = (current + 1) % backgrounds.length;
        aquarium.style.background = `url('${backgrounds[current]}')`;
        aquarium.style.backgroundSize = 'cover';
        aquarium.style.backgroundPosition = 'center';
    });
    </script>

</body>
</html>
