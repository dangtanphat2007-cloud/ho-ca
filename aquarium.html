
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªì c√° vui nh·ªôn</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="aquarium" id="aquarium">

    <!-- C√°c n√∫t ch·ª©c nƒÉng -->
    <div class="controls">
        <button id="btnMusic">üéµ B·∫≠t/T·∫Øt nh·∫°c</button>
        <button id="btnBG">üñº ƒê·ªïi c·∫£nh n·ªÅn</button>
        <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
    </div>

    <!-- 3 th·ª£ l·∫∑n -->
    <img src="image/diver1.png" class="diver diver1">
    <img src="image/diver2.png" class="diver diver2">
    <img src="image/diver3.png" class="diver diver3">

    <!-- C√° m·∫≠p -->
    <img src="image/shark.png" class="shark">

    <!-- R√πa -->
    <img src="image/turtle.png" class="turtle">

    <!-- C√° nh·ªè -->
    <img src="image/goldFishSchool.png" class="fish fish1">
    <img src="image/faintSchool.png" class="fish fish2">

    <!-- Bong b√≥ng -->
    <div id="bubbles"></div>

    <!-- Nh·∫°c n·ªÅn -->
    <audio id="bgMusic" loop>
        <source src="Alan_Walker_-_Avem_The_Aviation_Theme_(mp3.pm).mp3" type="audio/mpeg">
    </audio>

    <!-- ---------- JavaScript tr·ª±c ti·∫øp ---------- -->
    <script>
    // --- Th·ª£ l·∫∑n tr√°nh c√° m·∫≠p ---
    const shark = document.querySelector('.shark');
    const divers = document.querySelectorAll('.diver');

    function getSharkRect() {
        return shark.getBoundingClientRect();
    }

    function moveDiverRandom(diver) {
        const sharkRect = getSharkRect();
    let x, y, diverRect;
    let attempts = 0; // gi·ªõi h·∫°n v√≤ng l·∫∑p
    do {
        x = Math.random() * (window.innerWidth - diver.offsetWidth);
        y = Math.random() * (window.innerHeight - diver.offsetHeight);
        diver.style.left = `${x}px`;
        diver.style.top = `${y}px`;
        diverRect = diver.getBoundingClientRect();
        attempts++;
        if (attempts > 20) break; // tr√°nh v√≤ng l·∫∑p v√¥ t·∫≠n
    } while (
        diverRect.left < sharkRect.right &&
        diverRect.right > sharkRect.left &&
        diverRect.top < sharkRect.bottom &&
        diverRect.bottom > sharkRect.top
    );
}
    setInterval(() => {
        divers.forEach(diver => moveDiverRandom(diver));
    }, 5000);

    // --- Nh·∫°c n·ªÅn ---
    const btnMusic = document.getElementById('btnMusic');
    const bgMusic = document.getElementById('bgMusic');
    // THAY ƒê·ªîI √ÇM L∆Ø·ª¢NG
    const volumeSlider = document.getElementById('volumeSlider');
    bgMusic.volume = 0.5;

    volumeSlider.addEventListener('input', () => {
    bgMusic.volume = volumeSlider.value;
    });
    

    btnMusic.addEventListener('click', () => {
        if(bgMusic.paused) bgMusic.play();
        else bgMusic.pause();
    });

    // --- ƒê·ªïi n·ªÅn ---
    const btnBG = document.getElementById('btnBG');
    const aquarium = document.getElementById('aquarium');

    const backgrounds = ['‚ÄîPngtree‚Äîa crystalclear spacious fish tank_15827688.jpg','‚ÄîPngtree‚Äîsea fishes in the deep_15447133.png'];
    let current = 0;

    btnBG.addEventListener('click', () => {
        current = (current + 1) % backgrounds.length;
        aquarium.style.background = `url('${backgrounds[current]}')`;
        aquarium.style.backgroundSize = 'cover';
        aquarium.style.backgroundPosition = 'center';
    });
    </script>
    <script>
const bubblesContainer = document.getElementById('bubbles');

function createBubble() {
    const bubble = document.createElement('div');
    bubble.classList.add('bubble');

    // V·ªã tr√≠ ngang ng·∫´u nhi√™n
    bubble.style.left = Math.random() * window.innerWidth + 'px';

    // K√≠ch th∆∞·ªõc v√† t·ªëc ƒë·ªô ng·∫´u nhi√™n
    const size = 10 + Math.random() * 20; // 10-30px
    bubble.style.width = size + 'px';
    bubble.style.height = size + 'px';
    bubble.style.animationDuration = (4 + Math.random() * 4) + 's'; // 4-8s

    bubblesContainer.appendChild(bubble);

    // X√≥a bong b√≥ng khi k·∫øt th√∫c animation
    bubble.addEventListener('animationend', () => {
        bubble.remove();
    });
}

// T·∫°o bong b√≥ng li√™n t·ª•c
setInterval(createBubble, 300); // m·ªói 0.3s
</script>

</body>
</html>
